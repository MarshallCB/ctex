!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ctex=e()}(this,(function(){"use strict";class t{constructor(t){let{init:e,...o}=t;this.init=e||(()=>{}),this.observers={},this.isContext=!0;let[n,r,i,s]=function(t){let e=[],o=[],n=[],r=[];do{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t).map(t=>t.toString())).sort().forEach((i,s,c)=>{var f,u;"constructor"===i||0!=s&&i===c[s-1]||("function"==typeof t[i]&&-1===e.indexOf(i)?(f=t[i],(u=f.constructor)&&("GeneratorFunction"===u.name||"GeneratorFunction"===u.displayName||function(t){return"function"==typeof t.next&&"function"==typeof t.throw}(u.prototype))?r.push(i):e.push(i)):t[i].isContext&&-1===n.indexOf(i)?n.push(i):o.push(i))})}while((t=Object.getPrototypeOf(t))&&Object.getPrototypeOf(t));return[e,o,n,r]}(o);n.forEach(t=>{Object.defineProperty(this,t,{set(e){o[t](e)},get:()=>o[t],enumerable:!1,configurable:!1})}),r.forEach(t=>{this.observers[t]=[],Object.defineProperty(this,t,{set(e){this["_$"+t]=e,this.observers[t].forEach(t=>t(e))},get(){return this["_$"+t]},enumerable:!0,configurable:!1}),this[t]=o[t]}),i.concat(s).forEach(t=>{this[t]=o[t]})}observe(t,e){this.observers[t].push(e)}}return function(e){return o=>{let n=new t(e);return n.init(o),n}}}));
