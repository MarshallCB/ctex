class t{constructor(t){let{init:e,...r}=t;this.init=e||(()=>{}),this.observers={},this.isContext=!0;let[o,n,s,i]=function(t){let e=[],r=[],o=[],n=[];do{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t).map(t=>t.toString())).sort().forEach((s,i,c)=>{var u,h;"constructor"===s||0!=i&&s===c[i-1]||("function"==typeof t[s]&&-1===e.indexOf(s)?(u=t[s],(h=u.constructor)&&("GeneratorFunction"===h.name||"GeneratorFunction"===h.displayName||function(t){return"function"==typeof t.next&&"function"==typeof t.throw}(h.prototype))?n.push(s):e.push(s)):t[s].isContext&&-1===o.indexOf(s)?o.push(s):r.push(s))})}while((t=Object.getPrototypeOf(t))&&Object.getPrototypeOf(t));return[e,r,o,n]}(r);o.forEach(t=>{Object.defineProperty(this,t,{set(e){r[t](e)},get:()=>r[t],enumerable:!1,configurable:!1})}),n.forEach(t=>{this.observers[t]=[],Object.defineProperty(this,t,{set(e){this["_$"+t]=e,this.observers[t].forEach(t=>t(e))},get(){return this["_$"+t]},enumerable:!0,configurable:!1}),this[t]=r[t]}),s.concat(i).forEach(t=>{this[t]=r[t]})}observe(t,e){this.observers[t].push(e)}}export default function(e){return r=>{let o=new t(e);return o.init(r),o}}
